<!doctype html>

  <head>
    <title>Live Something !</title>
    <meta charset="utf-8" /> 
    <script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <script type="text/javascript">
	    function success(position) {
		  var s = document.querySelector('#status');
		  
		  if (s.className == 'success') {
		    // not sure why we're hitting this twice in FF, I think it's to do with a cached result coming back    
		    return;
		  }
		  
		  s.innerHTML = "found you!";
		  s.className = 'success';
		  /*
		  var mapcanvas = document.createElement('div');
		  mapcanvas.id = 'mapcanvas';
		  mapcanvas.style.height = '400px';
		  mapcanvas.style.width = '560px';
		    
		  document.querySelector('article').appendChild(mapcanvas);
		  
		  var latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
		  var myOptions = {
		    zoom: 15,
		    center: latlng,
		    mapTypeControl: false,
		    navigationControlOptions: {style: google.maps.NavigationControlStyle.SMALL},
		    mapTypeId: google.maps.MapTypeId.ROADMAP
		  };
		  var map = new google.maps.Map(document.getElementById("mapcanvas"), myOptions);
		  
		  var marker = new google.maps.Marker({
		      position: latlng, 
		      map: map, 
		      title:"You are here! (at least within a "+position.coords.accuracy+" meter radius)"
		  });*/
		}

		function error(msg) {
		  var s = document.querySelector('#status');
		  s.innerHTML = typeof msg == 'string' ? msg : "failed";
		  s.className = 'fail';
		  
		  // console.log(arguments);
		}

    	$(document).on("ready", function() {
    		// Géolocalisation
    		if (navigator.geolocation) {
			  navigator.geolocation.getCurrentPosition(success, error);
			} else {
			  error('not supported');
			}
			
    		// Attachement des événements aux boutons
    		$('#signup').on('click', function() { 
    			alert('soon'); 
    		});
    		
    		$('#login').on('click', function() {
    			alert('soon');
    		});
    		
    		$('#go').on('click', function() {
    			alert('Evenements de ' + $('#when').val() + ' -- ' + $('#ou').val() + ' -- ' + $('#activity').val() );
    		});
    		
    	});
    </script> 
    <link rel="stylesheet" type="text/css" href="style.css" /> 
  </head>

  <body>
	
	<!-- Cartouche de navigation -->
	<nav id="log-panel">
	<a href="#" id="signup">sign up</a> - <a href="#" id="login">log in</a>
	</nav>

	<!-- Input de recherche-->
	<div id="content">
		<h1>Qu'est-ce que tu veux faire ?</h1><br />
		<div id="buttons">
			<input type="text" id="activity" value="Ex: Bowling, ..."/> <input type="date" id="when" /> <span id="status"></span><input type="text" id="ou" value="Changer la localisation?" /> <input type="submit" id="go" value="On y va !"/>
		</div>
		
		<hr />
		
		<div id="resultats">
		
		</div>
	</div>

	<!-- Mentions légales -->
	<div id="mentionslegales">
		( c ) - LiveSomething '13
	</div>
  </body>

</html>